{"version":3,"sources":["@wordpress/rich-text/src/component/format-edit.js"],"names":["getActiveFormat","getActiveObject","interactiveContentTags","Set","FormatEdit","formatTypes","onChange","onFocus","value","allowedFormats","withoutInteractiveFormatting","map","name","Edit","edit","tagName","indexOf","has","activeFormat","isActive","undefined","activeObject","isObjectActive","type","attributes"],"mappings":";;AAAA;;;AAGA,SAASA,eAAT,QAAgC,sBAAhC;AACA,SAASC,eAAT,QAAgC,sBAAhC;AAEA;;;;;;AAKA,IAAMC,sBAAsB,GAAG,IAAIC,GAAJ,CAAS,CACvC,GADuC,EAEvC,OAFuC,EAGvC,QAHuC,EAIvC,SAJuC,EAKvC,OALuC,EAMvC,QANuC,EAOvC,OAPuC,EAQvC,OARuC,EASvC,QATuC,EAUvC,UAVuC,EAWvC,OAXuC,CAAT,CAA/B;AAcA,eAAe,SAASC,UAAT,OAOX;AAAA,MANHC,WAMG,QANHA,WAMG;AAAA,MALHC,QAKG,QALHA,QAKG;AAAA,MAJHC,OAIG,QAJHA,OAIG;AAAA,MAHHC,KAGG,QAHHA,KAGG;AAAA,MAFHC,cAEG,QAFHA,cAEG;AAAA,MADHC,4BACG,QADHA,4BACG;AACH,SAAOL,WAAW,CAACM,GAAZ,CAAiB,iBAAqC;AAAA,QAAjCC,IAAiC,SAAjCA,IAAiC;AAAA,QAArBC,IAAqB,SAA3BC,IAA2B;AAAA,QAAfC,OAAe,SAAfA,OAAe;;AAC5D,QAAK,CAAEF,IAAP,EAAc;AACb,aAAO,IAAP;AACA;;AAED,QAAKJ,cAAc,IAAIA,cAAc,CAACO,OAAf,CAAwBJ,IAAxB,MAAmC,CAAC,CAA3D,EAA+D;AAC9D,aAAO,IAAP;AACA;;AAED,QACCF,4BAA4B,IAC5BR,sBAAsB,CAACe,GAAvB,CAA4BF,OAA5B,CAFD,EAGE;AACD,aAAO,IAAP;AACA;;AAED,QAAMG,YAAY,GAAGlB,eAAe,CAAEQ,KAAF,EAASI,IAAT,CAApC;AACA,QAAMO,QAAQ,GAAGD,YAAY,KAAKE,SAAlC;AACA,QAAMC,YAAY,GAAGpB,eAAe,CAAEO,KAAF,CAApC;AACA,QAAMc,cAAc,GACnBD,YAAY,KAAKD,SAAjB,IAA8BC,YAAY,CAACE,IAAb,KAAsBX,IADrD;AAGA,WACC,cAAC,IAAD;AACC,MAAA,GAAG,EAAGA,IADP;AAEC,MAAA,QAAQ,EAAGO,QAFZ;AAGC,MAAA,gBAAgB,EACfA,QAAQ,GAAGD,YAAY,CAACM,UAAb,IAA2B,EAA9B,GAAmC,EAJ7C;AAMC,MAAA,cAAc,EAAGF,cANlB;AAOC,MAAA,sBAAsB,EACrBA,cAAc,GAAGD,YAAY,CAACG,UAAb,IAA2B,EAA9B,GAAmC,EARnD;AAUC,MAAA,KAAK,EAAGhB,KAVT;AAWC,MAAA,QAAQ,EAAGF,QAXZ;AAYC,MAAA,OAAO,EAAGC;AAZX,MADD;AAgBA,GAtCM,CAAP;AAuCA","sourcesContent":["/**\n * Internal dependencies\n */\nimport { getActiveFormat } from '../get-active-format';\nimport { getActiveObject } from '../get-active-object';\n\n/**\n * Set of all interactive content tags.\n *\n * @see https://html.spec.whatwg.org/multipage/dom.html#interactive-content\n */\nconst interactiveContentTags = new Set( [\n\t'a',\n\t'audio',\n\t'button',\n\t'details',\n\t'embed',\n\t'iframe',\n\t'input',\n\t'label',\n\t'select',\n\t'textarea',\n\t'video',\n] );\n\nexport default function FormatEdit( {\n\tformatTypes,\n\tonChange,\n\tonFocus,\n\tvalue,\n\tallowedFormats,\n\twithoutInteractiveFormatting,\n} ) {\n\treturn formatTypes.map( ( { name, edit: Edit, tagName } ) => {\n\t\tif ( ! Edit ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tif ( allowedFormats && allowedFormats.indexOf( name ) === -1 ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tif (\n\t\t\twithoutInteractiveFormatting &&\n\t\t\tinteractiveContentTags.has( tagName )\n\t\t) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst activeFormat = getActiveFormat( value, name );\n\t\tconst isActive = activeFormat !== undefined;\n\t\tconst activeObject = getActiveObject( value );\n\t\tconst isObjectActive =\n\t\t\tactiveObject !== undefined && activeObject.type === name;\n\n\t\treturn (\n\t\t\t<Edit\n\t\t\t\tkey={ name }\n\t\t\t\tisActive={ isActive }\n\t\t\t\tactiveAttributes={\n\t\t\t\t\tisActive ? activeFormat.attributes || {} : {}\n\t\t\t\t}\n\t\t\t\tisObjectActive={ isObjectActive }\n\t\t\t\tactiveObjectAttributes={\n\t\t\t\t\tisObjectActive ? activeObject.attributes || {} : {}\n\t\t\t\t}\n\t\t\t\tvalue={ value }\n\t\t\t\tonChange={ onChange }\n\t\t\t\tonFocus={ onFocus }\n\t\t\t/>\n\t\t);\n\t} );\n}\n"]}