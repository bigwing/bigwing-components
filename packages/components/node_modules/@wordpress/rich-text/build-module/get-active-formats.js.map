{"version":3,"sources":["@wordpress/rich-text/src/get-active-formats.js"],"names":["getActiveFormats","formats","start","end","activeFormats","EMPTY_ACTIVE_FORMATS","undefined","formatsBefore","formatsAfter","length"],"mappings":"AAAA;;;;;;;;;;;;;AAaA,OAAO,SAASA,gBAAT,OAGL;AAAA,MAFCC,OAED,QAFCA,OAED;AAAA,MAFUC,KAEV,QAFUA,KAEV;AAAA,MAFiBC,GAEjB,QAFiBA,GAEjB;AAAA,MAFsBC,aAEtB,QAFsBA,aAEtB;AAAA,MADDC,oBACC,uEADsB,EACtB;;AACD,MAAKH,KAAK,KAAKI,SAAf,EAA2B;AAC1B,WAAOD,oBAAP;AACA;;AAED,MAAKH,KAAK,KAAKC,GAAf,EAAqB;AACpB;AACA,QAAKC,aAAL,EAAqB;AACpB,aAAOA,aAAP;AACA;;AAED,QAAMG,aAAa,GAAGN,OAAO,CAAEC,KAAK,GAAG,CAAV,CAAP,IAAwBG,oBAA9C;AACA,QAAMG,YAAY,GAAGP,OAAO,CAAEC,KAAF,CAAP,IAAoBG,oBAAzC,CAPoB,CASpB;AACA;AACA;;AACA,QAAKE,aAAa,CAACE,MAAd,GAAuBD,YAAY,CAACC,MAAzC,EAAkD;AACjD,aAAOF,aAAP;AACA;;AAED,WAAOC,YAAP;AACA;;AAED,SAAOP,OAAO,CAAEC,KAAF,CAAP,IAAoBG,oBAA3B;AACA","sourcesContent":["/**\n * Gets the all format objects at the start of the selection.\n *\n * @param {Object}        value                Value to inspect.\n * @param {Array<Array>}  value.formats        Formats object data values.\n * @param {number}        value.start          Index to start from.\n * @param {number}        value.end            Index to end.\n * @param {Array}         value.activeFormats  Array to return if there are active formats.\n * @param {Array}         EMPTY_ACTIVE_FORMATS Array to return if there are no active\n *                                             formats.\n *\n * @return {?Object} Active format objects.\n */\nexport function getActiveFormats(\n\t{ formats, start, end, activeFormats },\n\tEMPTY_ACTIVE_FORMATS = []\n) {\n\tif ( start === undefined ) {\n\t\treturn EMPTY_ACTIVE_FORMATS;\n\t}\n\n\tif ( start === end ) {\n\t\t// For a collapsed caret, it is possible to override the active formats.\n\t\tif ( activeFormats ) {\n\t\t\treturn activeFormats;\n\t\t}\n\n\t\tconst formatsBefore = formats[ start - 1 ] || EMPTY_ACTIVE_FORMATS;\n\t\tconst formatsAfter = formats[ start ] || EMPTY_ACTIVE_FORMATS;\n\n\t\t// By default, select the lowest amount of formats possible (which means\n\t\t// the caret is positioned outside the format boundary). The user can\n\t\t// then use arrow keys to define `activeFormats`.\n\t\tif ( formatsBefore.length < formatsAfter.length ) {\n\t\t\treturn formatsBefore;\n\t\t}\n\n\t\treturn formatsAfter;\n\t}\n\n\treturn formats[ start ] || EMPTY_ACTIVE_FORMATS;\n}\n"]}