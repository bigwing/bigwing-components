{"version":3,"sources":["@wordpress/components/src/range-control/tooltip.js"],"names":["classnames","useCallback","useEffect","useState","Tooltip","TOOLTIP_OFFSET_HEIGHT","SimpleTooltip","className","inputRef","position","positionProp","show","style","value","renderTooltipContent","v","zIndex","restProps","useTooltipPosition","classes","styles","setPosition","calculatePosition","current","nextPosition","getBoundingClientRect","top","isOffscreenTop","window","addEventListener","removeEventListener"],"mappings":";;;;;;;;;;AAAA;;;AAGA,OAAOA,UAAP,MAAuB,YAAvB;AAEA;;;;AAGA,SAASC,WAAT,EAAsBC,SAAtB,EAAiCC,QAAjC,QAAiD,oBAAjD;AAEA;;;;AAGA,SAASC,OAAT,QAAwB,+BAAxB;AAEA,IAAMC,qBAAqB,GAAG,EAA9B;AAEA,eAAe,SAASC,aAAT,OAUX;AAAA,MATHC,SASG,QATHA,SASG;AAAA,MARHC,QAQG,QARHA,QAQG;AAAA,2BAPHC,QAOG;AAAA,MAPOC,YAOP,8BAPsB,MAOtB;AAAA,uBANHC,IAMG;AAAA,MANHA,IAMG,0BANI,KAMJ;AAAA,wBALHC,KAKG;AAAA,MALHA,KAKG,2BALK,EAKL;AAAA,wBAJHC,KAIG;AAAA,MAJHA,KAIG,2BAJK,CAIL;AAAA,mCAHHC,oBAGG;AAAA,MAHHA,oBAGG,sCAHoB,UAAEC,CAAF;AAAA,WAASA,CAAT;AAAA,GAGpB;AAAA,yBAFHC,MAEG;AAAA,MAFHA,MAEG,4BAFM,GAEN;AAAA,MADAC,SACA;;AACH,MAAMR,QAAQ,GAAGS,kBAAkB,CAAE;AAAEV,IAAAA,QAAQ,EAARA,QAAF;AAAYC,IAAAA,QAAQ,EAAEC;AAAtB,GAAF,CAAnC;AACA,MAAMS,OAAO,GAAGnB,UAAU,CAAE,2BAAF,EAA+BO,SAA/B,CAA1B;;AACA,MAAMa,MAAM,qBACRR,KADQ;AAEXI,IAAAA,MAAM,EAANA;AAFW,IAAZ;;AAKA,SACC,cAAC,OAAD,eACMC,SADN;AAEC,mBAAcN,IAFf;AAGC,IAAA,SAAS,EAAGQ,OAHb;AAIC,IAAA,QAAQ,EAAGV,QAJZ;AAKC,IAAA,IAAI,EAAGE,IALR;AAMC,IAAA,IAAI,EAAC,SANN;AAOC,IAAA,KAAK,EAAGS;AAPT,MASGN,oBAAoB,CAAED,KAAF,CATvB,CADD;AAaA;;AAED,SAASK,kBAAT,QAAoE;AAAA,MAArCV,QAAqC,SAArCA,QAAqC;AAAA,MAAjBE,YAAiB,SAA3BD,QAA2B;;AAAA,kBACjCN,QAAQ,CAAE,KAAF,CADyB;AAAA;AAAA,MAC3DM,QAD2D;AAAA,MACjDY,WADiD;;AAGnE,MAAMC,iBAAiB,GAAGrB,WAAW,CAAE,YAAM;AAC5C,QAAKO,QAAQ,IAAIA,QAAQ,CAACe,OAA1B,EAAoC;AACnC,UAAIC,YAAY,GAAGd,YAAnB;;AAEA,UAAKA,YAAY,KAAK,MAAtB,EAA+B;AAAA,oCACdF,QAAQ,CAACe,OAAT,CAAiBE,qBAAjB,EADc;AAAA,YACtBC,GADsB,yBACtBA,GADsB;;AAE9B,YAAMC,cAAc,GAAGD,GAAG,GAAGrB,qBAAN,GAA8B,CAArD;AAEAmB,QAAAA,YAAY,GAAGG,cAAc,GAAG,QAAH,GAAc,KAA3C;AACA;;AAEDN,MAAAA,WAAW,CAAEG,YAAF,CAAX;AACA;AACD,GAboC,EAalC,CAAEd,YAAF,CAbkC,CAArC;AAeAR,EAAAA,SAAS,CAAE,YAAM;AAChBoB,IAAAA,iBAAiB;AACjB,GAFQ,EAEN,CAAEA,iBAAF,CAFM,CAAT;AAIApB,EAAAA,SAAS,CAAE,YAAM;AAChB0B,IAAAA,MAAM,CAACC,gBAAP,CAAyB,QAAzB,EAAmCP,iBAAnC;AAEA,WAAO,YAAM;AACZM,MAAAA,MAAM,CAACE,mBAAP,CAA4B,QAA5B,EAAsCR,iBAAtC;AACA,KAFD;AAGA,GANQ,CAAT;AAQA,SAAOb,QAAP;AACA","sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { useCallback, useEffect, useState } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { Tooltip } from './styles/range-control-styles';\n\nconst TOOLTIP_OFFSET_HEIGHT = 32;\n\nexport default function SimpleTooltip( {\n\tclassName,\n\tinputRef,\n\tposition: positionProp = 'auto',\n\tshow = false,\n\tstyle = {},\n\tvalue = 0,\n\trenderTooltipContent = ( v ) => v,\n\tzIndex = 100,\n\t...restProps\n} ) {\n\tconst position = useTooltipPosition( { inputRef, position: positionProp } );\n\tconst classes = classnames( 'components-simple-tooltip', className );\n\tconst styles = {\n\t\t...style,\n\t\tzIndex,\n\t};\n\n\treturn (\n\t\t<Tooltip\n\t\t\t{ ...restProps }\n\t\t\taria-hidden={ show }\n\t\t\tclassName={ classes }\n\t\t\tposition={ position }\n\t\t\tshow={ show }\n\t\t\trole=\"tooltip\"\n\t\t\tstyle={ styles }\n\t\t>\n\t\t\t{ renderTooltipContent( value ) }\n\t\t</Tooltip>\n\t);\n}\n\nfunction useTooltipPosition( { inputRef, position: positionProp } ) {\n\tconst [ position, setPosition ] = useState( 'top' );\n\n\tconst calculatePosition = useCallback( () => {\n\t\tif ( inputRef && inputRef.current ) {\n\t\t\tlet nextPosition = positionProp;\n\n\t\t\tif ( positionProp === 'auto' ) {\n\t\t\t\tconst { top } = inputRef.current.getBoundingClientRect();\n\t\t\t\tconst isOffscreenTop = top - TOOLTIP_OFFSET_HEIGHT < 0;\n\n\t\t\t\tnextPosition = isOffscreenTop ? 'bottom' : 'top';\n\t\t\t}\n\n\t\t\tsetPosition( nextPosition );\n\t\t}\n\t}, [ positionProp ] );\n\n\tuseEffect( () => {\n\t\tcalculatePosition();\n\t}, [ calculatePosition ] );\n\n\tuseEffect( () => {\n\t\twindow.addEventListener( 'resize', calculatePosition );\n\n\t\treturn () => {\n\t\t\twindow.removeEventListener( 'resize', calculatePosition );\n\t\t};\n\t} );\n\n\treturn position;\n}\n"]}