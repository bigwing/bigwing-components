{"version":3,"sources":["@wordpress/components/src/select-control/index.js"],"names":["isEmpty","useInstanceId","BaseControl","SelectControl","help","label","multiple","onChange","options","className","hideLabelFromVision","props","instanceId","id","onChangeValue","event","selectedOptions","target","filter","selected","newValues","map","value","undefined","option","index","disabled"],"mappings":";;;;;AAAA;;;AAGA,SAASA,OAAT,QAAwB,QAAxB;AAEA;;;;AAGA,SAASC,aAAT,QAA8B,oBAA9B;AAEA;;;;AAGA,OAAOC,WAAP,MAAwB,iBAAxB;AAEA,eAAe,SAASC,aAAT,OASX;AAAA,MARHC,IAQG,QARHA,IAQG;AAAA,MAPHC,KAOG,QAPHA,KAOG;AAAA,2BANHC,QAMG;AAAA,MANHA,QAMG,8BANQ,KAMR;AAAA,MALHC,QAKG,QALHA,QAKG;AAAA,0BAJHC,OAIG;AAAA,MAJHA,OAIG,6BAJO,EAIP;AAAA,MAHHC,SAGG,QAHHA,SAGG;AAAA,MAFHC,mBAEG,QAFHA,mBAEG;AAAA,MADAC,KACA;;AACH,MAAMC,UAAU,GAAGX,aAAa,CAAEE,aAAF,CAAhC;AACA,MAAMU,EAAE,sCAAgCD,UAAhC,CAAR;;AACA,MAAME,aAAa,GAAG,SAAhBA,aAAgB,CAAEC,KAAF,EAAa;AAClC,QAAKT,QAAL,EAAgB;AACf,UAAMU,eAAe,GAAG,mBAAKD,KAAK,CAACE,MAAN,CAAaT,OAAlB,EAA4BU,MAA5B,CACvB;AAAA,YAAIC,QAAJ,SAAIA,QAAJ;AAAA,eAAoBA,QAApB;AAAA,OADuB,CAAxB;;AAGA,UAAMC,SAAS,GAAGJ,eAAe,CAACK,GAAhB,CAAqB;AAAA,YAAIC,KAAJ,SAAIA,KAAJ;AAAA,eAAiBA,KAAjB;AAAA,OAArB,CAAlB;AACAf,MAAAA,QAAQ,CAAEa,SAAF,CAAR;AACA;AACA;;AACDb,IAAAA,QAAQ,CAAEQ,KAAK,CAACE,MAAN,CAAaK,KAAf,CAAR;AACA,GAVD,CAHG,CAeH;;AAEA;;;AACA,SACC,CAAEtB,OAAO,CAAEQ,OAAF,CAAT,IACC,cAAC,WAAD;AACC,IAAA,KAAK,EAAGH,KADT;AAEC,IAAA,mBAAmB,EAAGK,mBAFvB;AAGC,IAAA,EAAE,EAAGG,EAHN;AAIC,IAAA,IAAI,EAAGT,IAJR;AAKC,IAAA,SAAS,EAAGK;AALb,KAOC;AACC,IAAA,EAAE,EAAGI,EADN;AAEC,IAAA,SAAS,EAAC,kCAFX;AAGC,IAAA,QAAQ,EAAGC,aAHZ;AAIC,wBAAmB,CAAC,CAAEV,IAAH,aAAcS,EAAd,cAA4BU,SAJhD;AAKC,IAAA,QAAQ,EAAGjB;AALZ,KAMMK,KANN,GAQGH,OAAO,CAACa,GAAR,CAAa,UAAEG,MAAF,EAAUC,KAAV;AAAA,WACd;AACC,MAAA,GAAG,YAAOD,MAAM,CAACnB,KAAd,cAAyBmB,MAAM,CAACF,KAAhC,cAA2CG,KAA3C,CADJ;AAEC,MAAA,KAAK,EAAGD,MAAM,CAACF,KAFhB;AAGC,MAAA,QAAQ,EAAGE,MAAM,CAACE;AAHnB,OAKGF,MAAM,CAACnB,KALV,CADc;AAAA,GAAb,CARH,CAPD,CAFF;AA8BA;AACA","sourcesContent":["/**\n * External dependencies\n */\nimport { isEmpty } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { useInstanceId } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport BaseControl from '../base-control';\n\nexport default function SelectControl( {\n\thelp,\n\tlabel,\n\tmultiple = false,\n\tonChange,\n\toptions = [],\n\tclassName,\n\thideLabelFromVision,\n\t...props\n} ) {\n\tconst instanceId = useInstanceId( SelectControl );\n\tconst id = `inspector-select-control-${ instanceId }`;\n\tconst onChangeValue = ( event ) => {\n\t\tif ( multiple ) {\n\t\t\tconst selectedOptions = [ ...event.target.options ].filter(\n\t\t\t\t( { selected } ) => selected\n\t\t\t);\n\t\t\tconst newValues = selectedOptions.map( ( { value } ) => value );\n\t\t\tonChange( newValues );\n\t\t\treturn;\n\t\t}\n\t\tonChange( event.target.value );\n\t};\n\n\t// Disable reason: A select with an onchange throws a warning\n\n\t/* eslint-disable jsx-a11y/no-onchange */\n\treturn (\n\t\t! isEmpty( options ) && (\n\t\t\t<BaseControl\n\t\t\t\tlabel={ label }\n\t\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t\t\tid={ id }\n\t\t\t\thelp={ help }\n\t\t\t\tclassName={ className }\n\t\t\t>\n\t\t\t\t<select\n\t\t\t\t\tid={ id }\n\t\t\t\t\tclassName=\"components-select-control__input\"\n\t\t\t\t\tonChange={ onChangeValue }\n\t\t\t\t\taria-describedby={ !! help ? `${ id }__help` : undefined }\n\t\t\t\t\tmultiple={ multiple }\n\t\t\t\t\t{ ...props }\n\t\t\t\t>\n\t\t\t\t\t{ options.map( ( option, index ) => (\n\t\t\t\t\t\t<option\n\t\t\t\t\t\t\tkey={ `${ option.label }-${ option.value }-${ index }` }\n\t\t\t\t\t\t\tvalue={ option.value }\n\t\t\t\t\t\t\tdisabled={ option.disabled }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ option.label }\n\t\t\t\t\t\t</option>\n\t\t\t\t\t) ) }\n\t\t\t\t</select>\n\t\t\t</BaseControl>\n\t\t)\n\t);\n\t/* eslint-enable jsx-a11y/no-onchange */\n}\n"]}