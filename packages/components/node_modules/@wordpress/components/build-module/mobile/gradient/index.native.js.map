{"version":3,"sources":["@wordpress/components/src/mobile/gradient/index.native.js"],"names":["View","Platform","RNLinearGradient","colorsUtils","RadialGradient","Stop","SVG","Defs","Rect","useResizeObserver","styles","getGradientAngle","gradientValue","matchDeg","Number","exec","getGradientColorGroup","matchColorGroup","match","map","color","split","getGradientBaseColors","Gradient","style","angleCenter","x","y","children","otherProps","resizeObserver","sizes","width","height","isGradient","getGradientType","gradients","isLinearGradient","linear","colorGroup","locations","location","replace","overflow","radialGradientContent","OS","group"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport { View, Platform } from 'react-native';\nimport RNLinearGradient from 'react-native-linear-gradient';\n/**\n * WordPress dependencies\n */\nimport { colorsUtils } from '@wordpress/components';\nimport { RadialGradient, Stop, SVG, Defs, Rect } from '@wordpress/primitives';\nimport { useResizeObserver } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport styles from './style.scss';\n\nfunction getGradientAngle( gradientValue ) {\n\tconst matchDeg = /(\\d+)deg/g;\n\n\treturn Number( matchDeg.exec( gradientValue )[ 1 ] );\n}\n\nfunction getGradientColorGroup( gradientValue ) {\n\tconst matchColorGroup = /(rgba|rgb|#)(.+?)[\\%]/g;\n\n\treturn gradientValue\n\t\t.match( matchColorGroup )\n\t\t.map( ( color ) => color.split( ' ' ) );\n}\n\nfunction getGradientBaseColors( gradientValue ) {\n\treturn getGradientColorGroup( gradientValue ).map(\n\t\t( color ) => color[ 0 ]\n\t);\n}\n\nfunction Gradient( {\n\tgradientValue,\n\tstyle,\n\tangleCenter = { x: 0.5, y: 0.5 },\n\tchildren,\n\t...otherProps\n} ) {\n\tconst [ resizeObserver, sizes ] = useResizeObserver();\n\tconst { width = 0, height = 0 } = sizes || {};\n\tconst { isGradient, getGradientType, gradients } = colorsUtils;\n\n\tif ( ! gradientValue || ! isGradient( gradientValue ) ) {\n\t\treturn null;\n\t}\n\n\tconst isLinearGradient =\n\t\tgetGradientType( gradientValue ) === gradients.linear;\n\n\tconst colorGroup = getGradientColorGroup( gradientValue );\n\n\tconst locations = colorGroup.map(\n\t\t( location ) => Number( location[ 1 ].replace( '%', '' ) ) / 100\n\t);\n\n\tif ( isLinearGradient ) {\n\t\treturn (\n\t\t\t<RNLinearGradient\n\t\t\t\tcolors={ getGradientBaseColors( gradientValue ) }\n\t\t\t\tuseAngle={ true }\n\t\t\t\tangle={ getGradientAngle( gradientValue ) }\n\t\t\t\tlocations={ locations }\n\t\t\t\tangleCenter={ angleCenter }\n\t\t\t\tstyle={ style }\n\t\t\t\t{ ...otherProps }\n\t\t\t>\n\t\t\t\t{ children }\n\t\t\t</RNLinearGradient>\n\t\t);\n\t}\n\n\treturn (\n\t\t<View style={ [ style, styles.overflow ] }>\n\t\t\t<View style={ styles.radialGradientContent }>{ children }</View>\n\t\t\t{ resizeObserver }\n\t\t\t<SVG>\n\t\t\t\t<Defs>\n\t\t\t\t\t<RadialGradient\n\t\t\t\t\t\t//eslint-disable-next-line no-restricted-syntax\n\t\t\t\t\t\tid=\"radialGradient\"\n\t\t\t\t\t\tgradientUnits=\"userSpaceOnUse\"\n\t\t\t\t\t\trx=\"70%\"\n\t\t\t\t\t\try=\"70%\"\n\t\t\t\t\t\tcy={ Platform.OS === 'android' ? width / 2 : '50%' }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ colorGroup.map( ( group ) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Stop\n\t\t\t\t\t\t\t\t\toffset={ group[ 1 ] }\n\t\t\t\t\t\t\t\t\tstopColor={ group[ 0 ] }\n\t\t\t\t\t\t\t\t\tstopOpacity=\"1\"\n\t\t\t\t\t\t\t\t\tkey={ `${ group[ 1 ] }-${ group[ 0 ] }` }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} ) }\n\t\t\t\t\t</RadialGradient>\n\t\t\t\t</Defs>\n\t\t\t\t<Rect\n\t\t\t\t\theight={ height }\n\t\t\t\t\twidth={ width }\n\t\t\t\t\tfill=\"url(#radialGradient)\"\n\t\t\t\t/>\n\t\t\t</SVG>\n\t\t</View>\n\t);\n}\n\nexport default Gradient;\n"]}