{"version":3,"sources":["@wordpress/components/src/higher-order/with-notices/index.js"],"names":["v4","uuid","Component","createHigherOrderComponent","NoticeList","OriginalComponent","arguments","createNotice","bind","createErrorNotice","removeNotice","removeAllNotices","state","noticeList","noticeOperations","notice","noticeToAdd","id","setState","msg","status","content","filter","length","props"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;;;AAGA,SAASA,EAAE,IAAIC,IAAf,QAA2B,MAA3B;AAEA;;;;AAGA,SAASC,SAAT,QAA0B,oBAA1B;AACA,SAASC,0BAAT,QAA2C,oBAA3C;AAEA;;;;AAGA,OAAOC,UAAP,MAAuB,mBAAvB;AAEA;;;;;;;;AAOA,eAAeD,0BAA0B,CAAE,UAAEE,iBAAF,EAAyB;AACnE;AAAA;;AAAA;;AACC,gCAAc;AAAA;;AAAA;;AACb,iCAAUC,SAAV;AAEA,YAAKC,YAAL,GAAoB,MAAKA,YAAL,CAAkBC,IAAlB,+BAApB;AACA,YAAKC,iBAAL,GAAyB,MAAKA,iBAAL,CAAuBD,IAAvB,+BAAzB;AACA,YAAKE,YAAL,GAAoB,MAAKA,YAAL,CAAkBF,IAAlB,+BAApB;AACA,YAAKG,gBAAL,GAAwB,MAAKA,gBAAL,CAAsBH,IAAtB,+BAAxB;AAEA,YAAKI,KAAL,GAAa;AACZC,QAAAA,UAAU,EAAE;AADA,OAAb;AAIA,YAAKC,gBAAL,GAAwB;AACvBP,QAAAA,YAAY,EAAE,MAAKA,YADI;AAEvBE,QAAAA,iBAAiB,EAAE,MAAKA,iBAFD;AAGvBE,QAAAA,gBAAgB,EAAE,MAAKA,gBAHA;AAIvBD,QAAAA,YAAY,EAAE,MAAKA;AAJI,OAAxB;AAZa;AAkBb;AAED;;;;;;;AArBD;AAAA;AAAA,mCA0BeK,MA1Bf,EA0BwB;AACtB,YAAMC,WAAW,GAAGD,MAAM,CAACE,EAAP,GAAYF,MAAZ,qBAA0BA,MAA1B;AAAkCE,UAAAA,EAAE,EAAEhB,IAAI;AAA1C,UAApB;AACA,aAAKiB,QAAL,CAAe,UAAEN,KAAF;AAAA,iBAAe;AAC7BC,YAAAA,UAAU,+BAAOD,KAAK,CAACC,UAAb,IAAyBG,WAAzB;AADmB,WAAf;AAAA,SAAf;AAGA;AAED;;;;;;AAjCD;AAAA;AAAA,wCAsCoBG,GAtCpB,EAsC0B;AACxB,aAAKZ,YAAL,CAAmB;AAAEa,UAAAA,MAAM,EAAE,OAAV;AAAmBC,UAAAA,OAAO,EAAEF;AAA5B,SAAnB;AACA;AAED;;;;;;AA1CD;AAAA;AAAA,mCA+CeF,EA/Cf,EA+CoB;AAClB,aAAKC,QAAL,CAAe,UAAEN,KAAF;AAAA,iBAAe;AAC7BC,YAAAA,UAAU,EAAED,KAAK,CAACC,UAAN,CAAiBS,MAAjB,CACX,UAAEP,MAAF;AAAA,qBAAcA,MAAM,CAACE,EAAP,KAAcA,EAA5B;AAAA,aADW;AADiB,WAAf;AAAA,SAAf;AAKA;AAED;;;;AAvDD;AAAA;AAAA,yCA0DoB;AAClB,aAAKC,QAAL,CAAe;AACdL,UAAAA,UAAU,EAAE;AADE,SAAf;AAGA;AA9DF;AAAA;AAAA,+BAgEU;AACR,eACC,cAAC,iBAAD;AACC,UAAA,UAAU,EAAG,KAAKD,KAAL,CAAWC,UADzB;AAEC,UAAA,gBAAgB,EAAG,KAAKC,gBAFzB;AAGC,UAAA,QAAQ,EACP,KAAKF,KAAL,CAAWC,UAAX,CAAsBU,MAAtB,GAA+B,CAA/B,IACC,cAAC,UAAD;AACC,YAAA,SAAS,EAAC,4BADX;AAEC,YAAA,OAAO,EAAG,KAAKX,KAAL,CAAWC,UAFtB;AAGC,YAAA,QAAQ,EAAG,KAAKH;AAHjB;AALH,WAYM,KAAKc,KAZX,EADD;AAgBA;AAjFF;;AAAA;AAAA,IAAsCtB,SAAtC;AAmFA,CApFwC,CAAzC","sourcesContent":["/**\n * External dependencies\n */\nimport { v4 as uuid } from 'uuid';\n\n/**\n * WordPress dependencies\n */\nimport { Component } from '@wordpress/element';\nimport { createHigherOrderComponent } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport NoticeList from '../../notice/list';\n\n/**\n * Override the default edit UI to include notices if supported.\n *\n * @param  {WPComponent} OriginalComponent Original component.\n *\n * @return {WPComponent} Wrapped component.\n */\nexport default createHigherOrderComponent( ( OriginalComponent ) => {\n\treturn class WrappedBlockEdit extends Component {\n\t\tconstructor() {\n\t\t\tsuper( ...arguments );\n\n\t\t\tthis.createNotice = this.createNotice.bind( this );\n\t\t\tthis.createErrorNotice = this.createErrorNotice.bind( this );\n\t\t\tthis.removeNotice = this.removeNotice.bind( this );\n\t\t\tthis.removeAllNotices = this.removeAllNotices.bind( this );\n\n\t\t\tthis.state = {\n\t\t\t\tnoticeList: [],\n\t\t\t};\n\n\t\t\tthis.noticeOperations = {\n\t\t\t\tcreateNotice: this.createNotice,\n\t\t\t\tcreateErrorNotice: this.createErrorNotice,\n\t\t\t\tremoveAllNotices: this.removeAllNotices,\n\t\t\t\tremoveNotice: this.removeNotice,\n\t\t\t};\n\t\t}\n\n\t\t/**\n\t\t * Function passed down as a prop that adds a new notice.\n\t\t *\n\t\t * @param {Object} notice  Notice to add.\n\t\t */\n\t\tcreateNotice( notice ) {\n\t\t\tconst noticeToAdd = notice.id ? notice : { ...notice, id: uuid() };\n\t\t\tthis.setState( ( state ) => ( {\n\t\t\t\tnoticeList: [ ...state.noticeList, noticeToAdd ],\n\t\t\t} ) );\n\t\t}\n\n\t\t/**\n\t\t * Function passed as a prop that adds a new error notice.\n\t\t *\n\t\t * @param {string} msg  Error message of the notice.\n\t\t */\n\t\tcreateErrorNotice( msg ) {\n\t\t\tthis.createNotice( { status: 'error', content: msg } );\n\t\t}\n\n\t\t/**\n\t\t * Removes a notice by id.\n\t\t *\n\t\t * @param {string} id  Id of the notice to remove.\n\t\t */\n\t\tremoveNotice( id ) {\n\t\t\tthis.setState( ( state ) => ( {\n\t\t\t\tnoticeList: state.noticeList.filter(\n\t\t\t\t\t( notice ) => notice.id !== id\n\t\t\t\t),\n\t\t\t} ) );\n\t\t}\n\n\t\t/**\n\t\t * Removes all notices\n\t\t */\n\t\tremoveAllNotices() {\n\t\t\tthis.setState( {\n\t\t\t\tnoticeList: [],\n\t\t\t} );\n\t\t}\n\n\t\trender() {\n\t\t\treturn (\n\t\t\t\t<OriginalComponent\n\t\t\t\t\tnoticeList={ this.state.noticeList }\n\t\t\t\t\tnoticeOperations={ this.noticeOperations }\n\t\t\t\t\tnoticeUI={\n\t\t\t\t\t\tthis.state.noticeList.length > 0 && (\n\t\t\t\t\t\t\t<NoticeList\n\t\t\t\t\t\t\t\tclassName=\"components-with-notices-ui\"\n\t\t\t\t\t\t\t\tnotices={ this.state.noticeList }\n\t\t\t\t\t\t\t\tonRemove={ this.removeNotice }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t\t{ ...this.props }\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t};\n} );\n"]}