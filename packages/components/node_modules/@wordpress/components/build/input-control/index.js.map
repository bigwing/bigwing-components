{"version":3,"sources":["@wordpress/components/src/input-control/index.js"],"names":["useUniqueId","idProp","instanceId","InputControl","id","ref","__unstableStateReducer","stateReducer","state","children","className","disabled","hideLabelFromVision","isPressEnterToChange","isFloatingLabel","label","onBlur","noop","onChange","onFocus","onValidate","onKeyDown","size","suffix","value","props","isFocused","setIsFocused","isFilled","setIsFilled","classes","handleOnBlur","event","handleOnFocus","isInputFilled","isFloating","isFloatingLabelSet"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport { noop } from 'lodash';\nimport classNames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { useInstanceId } from '@wordpress/compose';\nimport { useState, forwardRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport Backdrop from './backdrop';\nimport InputField from './input-field';\nimport Label from './label';\nimport { Container, Root, Suffix } from './styles/input-control-styles';\nimport { isValueEmpty } from '../utils/values';\n\nfunction useUniqueId( idProp ) {\n\tconst instanceId = useInstanceId( InputControl );\n\tconst id = `inspector-input-control-${ instanceId }`;\n\n\treturn idProp || id;\n}\n\nexport function InputControl(\n\t{\n\t\t__unstableStateReducer: stateReducer = ( state ) => state,\n\t\tchildren,\n\t\tclassName,\n\t\tdisabled = false,\n\t\thideLabelFromVision = false,\n\t\tid: idProp,\n\t\tisPressEnterToChange = false,\n\t\tisFloatingLabel = false,\n\t\tlabel,\n\t\tonBlur = noop,\n\t\tonChange = noop,\n\t\tonFocus = noop,\n\t\tonValidate = noop,\n\t\tonKeyDown = noop,\n\t\tsize = 'default',\n\t\tsuffix,\n\t\tvalue,\n\t\t...props\n\t},\n\tref\n) {\n\tconst [ isFocused, setIsFocused ] = useState( false );\n\tconst [ isFilled, setIsFilled ] = useState( ! isValueEmpty( value ) );\n\n\tconst id = useUniqueId( idProp );\n\tconst classes = classNames( 'components-input-control', className );\n\n\tconst handleOnBlur = ( event ) => {\n\t\tonBlur( event );\n\t\tsetIsFocused( false );\n\t};\n\n\tconst handleOnFocus = ( event ) => {\n\t\tonFocus( event );\n\t\tsetIsFocused( true );\n\t};\n\n\tconst isInputFilled = isFilled || ! isValueEmpty( value );\n\n\tconst isFloating = isFloatingLabel ? isInputFilled || isFocused : false;\n\tconst isFloatingLabelSet =\n\t\t! hideLabelFromVision && isFloatingLabel && label;\n\n\treturn (\n\t\t<Root\n\t\t\tclassName={ classes }\n\t\t\tisFloatingLabel={ isFloatingLabelSet }\n\t\t\tisFocused={ isFocused }\n\t\t>\n\t\t\t<Label\n\t\t\t\tclassName=\"components-input-control__label\"\n\t\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t\t\thtmlFor={ id }\n\t\t\t\tisFilled={ isFilled }\n\t\t\t\tisFloating={ isFloating }\n\t\t\t\tisFloatingLabel={ isFloatingLabel }\n\t\t\t\tsize={ size }\n\t\t\t>\n\t\t\t\t{ label }\n\t\t\t</Label>\n\t\t\t<Container\n\t\t\t\tclassName=\"components-input-control__container\"\n\t\t\t\tdisabled={ disabled }\n\t\t\t\tisFocused={ isFocused }\n\t\t\t>\n\t\t\t\t<InputField\n\t\t\t\t\t{ ...props }\n\t\t\t\t\tclassName=\"components-input-control__input\"\n\t\t\t\t\tdisabled={ disabled }\n\t\t\t\t\tid={ id }\n\t\t\t\t\tisFloating={ isFloating }\n\t\t\t\t\tisFloatingLabelSet={ isFloatingLabelSet }\n\t\t\t\t\tisPressEnterToChange={ isPressEnterToChange }\n\t\t\t\t\tonBlur={ handleOnBlur }\n\t\t\t\t\tonChange={ onChange }\n\t\t\t\t\tonFocus={ handleOnFocus }\n\t\t\t\t\tonKeyDown={ onKeyDown }\n\t\t\t\t\tonUpdateValue={ setIsFilled }\n\t\t\t\t\tonValidate={ onValidate }\n\t\t\t\t\tref={ ref }\n\t\t\t\t\tsetIsFocused={ setIsFocused }\n\t\t\t\t\tsize={ size }\n\t\t\t\t\tstateReducer={ stateReducer }\n\t\t\t\t\tvalue={ value }\n\t\t\t\t/>\n\t\t\t\t{ suffix && (\n\t\t\t\t\t<Suffix className=\"components-input-control__suffix\">\n\t\t\t\t\t\t{ suffix }\n\t\t\t\t\t</Suffix>\n\t\t\t\t) }\n\t\t\t\t<Backdrop\n\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\tdisabled={ disabled }\n\t\t\t\t\tisFloating={ isFloating }\n\t\t\t\t\tisFloatingLabel={ isFloatingLabelSet }\n\t\t\t\t\tisFocused={ isFocused }\n\t\t\t\t\tlabel={ label }\n\t\t\t\t\tsize={ size }\n\t\t\t\t/>\n\t\t\t\t{ children }\n\t\t\t</Container>\n\t\t</Root>\n\t);\n}\n\nexport default forwardRef( InputControl );\n"]}