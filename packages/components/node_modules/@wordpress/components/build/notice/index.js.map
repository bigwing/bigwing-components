{"version":3,"sources":["@wordpress/components/src/notice/index.js"],"names":["useSpokenMessage","message","politeness","spokenMessage","getDefaultPoliteness","status","Notice","className","children","onRemove","noop","isDismissible","actions","__unstableHTML","classes","map","index","buttonCustomClasses","label","isPrimary","noDefaultClasses","onClick","url","undefined","close"],"mappings":";;;;;;;;;AAUA;;AAPA;;AACA;;AAKA;;AAEA;;AACA;;AAKA;;AAjBA;;;;AAMA;;;;AAQA;;;;AAKA;;AAEA;;;;;;;AAOA,SAASA,gBAAT,CAA2BC,OAA3B,EAAoCC,UAApC,EAAiD;AAChD,MAAMC,aAAa,GAClB,OAAOF,OAAP,KAAmB,QAAnB,GAA8BA,OAA9B,GAAwC,6BAAgBA,OAAhB,CADzC;AAGA,0BAAW,YAAM;AAChB,QAAKE,aAAL,EAAqB;AACpB,uBAAOA,aAAP,EAAsBD,UAAtB;AACA;AACD,GAJD,EAIG,CAAEC,aAAF,EAAiBD,UAAjB,CAJH;AAKA;AAED;;;;;;;;;;AAQA,SAASE,oBAAT,CAA+BC,MAA/B,EAAwC;AACvC,UAASA,MAAT;AACC,SAAK,SAAL;AACA,SAAK,SAAL;AACA,SAAK,MAAL;AACC,aAAO,QAAP;;AAED,SAAK,OAAL;AACA;AACC,aAAO,WAAP;AARF;AAUA;;AAED,SAASC,MAAT,OAUI;AAAA,MATHC,SASG,QATHA,SASG;AAAA,yBARHF,MAQG;AAAA,MARHA,MAQG,4BARM,MAQN;AAAA,MAPHG,QAOG,QAPHA,QAOG;AAAA,gCANHL,aAMG;AAAA,MANHA,aAMG,mCANaK,QAMb;AAAA,2BALHC,QAKG;AAAA,MALHA,QAKG,8BALQC,YAKR;AAAA,gCAJHC,aAIG;AAAA,MAJHA,aAIG,mCAJa,IAIb;AAAA,0BAHHC,OAGG;AAAA,MAHHA,OAGG,6BAHO,EAGP;AAAA,6BAFHV,UAEG;AAAA,MAFHA,UAEG,gCAFUE,oBAAoB,CAAEC,MAAF,CAE9B;AAAA,MADHQ,cACG,QADHA,cACG;AACHb,EAAAA,gBAAgB,CAAEG,aAAF,EAAiBD,UAAjB,CAAhB;AAEA,MAAMY,OAAO,GAAG,yBACfP,SADe,EAEf,mBAFe,EAGf,QAAQF,MAHO,EAIf;AACC,sBAAkBM;AADnB,GAJe,CAAhB;;AASA,MAAKE,cAAL,EAAsB;AACrBL,IAAAA,QAAQ,GAAG,4BAAC,gBAAD,QAAWA,QAAX,CAAX;AACA;;AAED,SACC;AAAK,IAAA,SAAS,EAAGM;AAAjB,KACC;AAAK,IAAA,SAAS,EAAC;AAAf,KACGN,QADH,EAEGI,OAAO,CAACG,GAAR,CACD,iBASCC,KATD,EAUK;AAAA,QARQC,mBAQR,SARHV,SAQG;AAAA,QAPHW,KAOG,SAPHA,KAOG;AAAA,QANHC,SAMG,SANHA,SAMG;AAAA,sCALHC,gBAKG;AAAA,QALHA,gBAKG,sCALgB,KAKhB;AAAA,QAJHC,OAIG,SAJHA,OAIG;AAAA,QAHHC,GAGG,SAHHA,GAGG;AACJ,WACC,4BAAC,QAAD;AACC,MAAA,GAAG,EAAGN,KADP;AAEC,MAAA,IAAI,EAAGM,GAFR;AAGC,MAAA,SAAS,EAAGH,SAHb;AAIC,MAAA,WAAW,EAAG,CAAEC,gBAAF,IAAsB,CAAEE,GAJvC;AAKC,MAAA,MAAM,EAAG,CAAEF,gBAAF,IAAsB,CAAC,CAAEE,GALnC;AAMC,MAAA,OAAO,EAAGA,GAAG,GAAGC,SAAH,GAAeF,OAN7B;AAOC,MAAA,SAAS,EAAG,yBACX,2BADW,EAEXJ,mBAFW;AAPb,OAYGC,KAZH,CADD;AAgBA,GA5BA,CAFH,CADD,EAkCGP,aAAa,IACd,4BAAC,QAAD;AACC,IAAA,SAAS,EAAC,4BADX;AAEC,IAAA,IAAI,EAAGa,YAFR;AAGC,IAAA,KAAK,EAAG,cAAI,qBAAJ,CAHT;AAIC,IAAA,OAAO,EAAGf,QAJX;AAKC,IAAA,WAAW,EAAG;AALf,IAnCF,CADD;AA8CA;;eAEcH,M","sourcesContent":["/**\n * External dependencies\n */\nimport { noop } from 'lodash';\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { RawHTML, useEffect, renderToString } from '@wordpress/element';\nimport { speak } from '@wordpress/a11y';\nimport { close } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport { Button } from '../';\n\n/** @typedef {import('@wordpress/element').WPElement} WPElement */\n\n/**\n * Custom hook which announces the message with the given politeness, if a\n * valid message is provided.\n *\n * @param {string|WPElement}     [message]  Message to announce.\n * @param {'polite'|'assertive'} politeness Politeness to announce.\n */\nfunction useSpokenMessage( message, politeness ) {\n\tconst spokenMessage =\n\t\ttypeof message === 'string' ? message : renderToString( message );\n\n\tuseEffect( () => {\n\t\tif ( spokenMessage ) {\n\t\t\tspeak( spokenMessage, politeness );\n\t\t}\n\t}, [ spokenMessage, politeness ] );\n}\n\n/**\n * Given a notice status, returns an assumed default politeness for the status.\n * Defaults to 'assertive'.\n *\n * @param {string} [status] Notice status.\n *\n * @return {'polite'|'assertive'} Notice politeness.\n */\nfunction getDefaultPoliteness( status ) {\n\tswitch ( status ) {\n\t\tcase 'success':\n\t\tcase 'warning':\n\t\tcase 'info':\n\t\t\treturn 'polite';\n\n\t\tcase 'error':\n\t\tdefault:\n\t\t\treturn 'assertive';\n\t}\n}\n\nfunction Notice( {\n\tclassName,\n\tstatus = 'info',\n\tchildren,\n\tspokenMessage = children,\n\tonRemove = noop,\n\tisDismissible = true,\n\tactions = [],\n\tpoliteness = getDefaultPoliteness( status ),\n\t__unstableHTML,\n} ) {\n\tuseSpokenMessage( spokenMessage, politeness );\n\n\tconst classes = classnames(\n\t\tclassName,\n\t\t'components-notice',\n\t\t'is-' + status,\n\t\t{\n\t\t\t'is-dismissible': isDismissible,\n\t\t}\n\t);\n\n\tif ( __unstableHTML ) {\n\t\tchildren = <RawHTML>{ children }</RawHTML>;\n\t}\n\n\treturn (\n\t\t<div className={ classes }>\n\t\t\t<div className=\"components-notice__content\">\n\t\t\t\t{ children }\n\t\t\t\t{ actions.map(\n\t\t\t\t\t(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tclassName: buttonCustomClasses,\n\t\t\t\t\t\t\tlabel,\n\t\t\t\t\t\t\tisPrimary,\n\t\t\t\t\t\t\tnoDefaultClasses = false,\n\t\t\t\t\t\t\tonClick,\n\t\t\t\t\t\t\turl,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tindex\n\t\t\t\t\t) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tkey={ index }\n\t\t\t\t\t\t\t\thref={ url }\n\t\t\t\t\t\t\t\tisPrimary={ isPrimary }\n\t\t\t\t\t\t\t\tisSecondary={ ! noDefaultClasses && ! url }\n\t\t\t\t\t\t\t\tisLink={ ! noDefaultClasses && !! url }\n\t\t\t\t\t\t\t\tonClick={ url ? undefined : onClick }\n\t\t\t\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t\t\t\t'components-notice__action',\n\t\t\t\t\t\t\t\t\tbuttonCustomClasses\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ label }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t) }\n\t\t\t</div>\n\t\t\t{ isDismissible && (\n\t\t\t\t<Button\n\t\t\t\t\tclassName=\"components-notice__dismiss\"\n\t\t\t\t\ticon={ close }\n\t\t\t\t\tlabel={ __( 'Dismiss this notice' ) }\n\t\t\t\t\tonClick={ onRemove }\n\t\t\t\t\tshowTooltip={ false }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</div>\n\t);\n}\n\nexport default Notice;\n"]}