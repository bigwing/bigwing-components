{"version":3,"sources":["@wordpress/components/src/font-size-picker/index.js"],"names":["DEFAULT_FONT_SIZE","CUSTOM_FONT_SIZE","getSelectValueFromFontSize","fontSizes","value","fontSizeValue","find","font","size","Number","slug","getSelectOptions","optionsArray","disableCustomFontSizes","length","name","map","option","key","style","fontSize","FontSizePicker","fallbackFontSize","onChange","withSlider","instanceId","options","selectedFontSizeSlug","fontSizePickerNumberId","selectedItem","selectedValue","event","target","undefined","newValue","textColor"],"mappings":"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","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useInstanceId } from '@wordpress/compose';\nimport { textColor } from '@wordpress/icons';\nimport { useMemo } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport Button from '../button';\nimport RangeControl from '../range-control';\nimport CustomSelectControl from '../custom-select-control';\nimport VisuallyHidden from '../visually-hidden';\n\nconst DEFAULT_FONT_SIZE = 'default';\nconst CUSTOM_FONT_SIZE = 'custom';\n\nfunction getSelectValueFromFontSize( fontSizes, value ) {\n\tif ( value ) {\n\t\tconst fontSizeValue = fontSizes.find(\n\t\t\t( font ) => font.size === Number( value )\n\t\t);\n\t\treturn fontSizeValue ? fontSizeValue.slug : CUSTOM_FONT_SIZE;\n\t}\n\treturn DEFAULT_FONT_SIZE;\n}\n\nfunction getSelectOptions( optionsArray, disableCustomFontSizes ) {\n\tif ( disableCustomFontSizes && ! optionsArray.length ) {\n\t\treturn null;\n\t}\n\toptionsArray = [\n\t\t{ slug: DEFAULT_FONT_SIZE, name: __( 'Default' ) },\n\t\t...optionsArray,\n\t\t...( disableCustomFontSizes\n\t\t\t? []\n\t\t\t: [ { slug: CUSTOM_FONT_SIZE, name: __( 'Custom' ) } ] ),\n\t];\n\treturn optionsArray.map( ( option ) => ( {\n\t\tkey: option.slug,\n\t\tname: option.name,\n\t\tstyle: { fontSize: option.size },\n\t} ) );\n}\n\nexport default function FontSizePicker( {\n\tfallbackFontSize,\n\tfontSizes = [],\n\tdisableCustomFontSizes = false,\n\tonChange,\n\tvalue,\n\twithSlider = false,\n} ) {\n\tconst instanceId = useInstanceId( FontSizePicker );\n\n\tconst options = useMemo(\n\t\t() => getSelectOptions( fontSizes, disableCustomFontSizes ),\n\t\t[ fontSizes, disableCustomFontSizes ]\n\t);\n\n\tif ( ! options ) {\n\t\treturn null;\n\t}\n\n\tconst selectedFontSizeSlug = getSelectValueFromFontSize( fontSizes, value );\n\n\tconst fontSizePickerNumberId = `components-font-size-picker__number#${ instanceId }`;\n\n\treturn (\n\t\t<fieldset className=\"components-font-size-picker\">\n\t\t\t<VisuallyHidden as=\"legend\">{ __( 'Font size' ) }</VisuallyHidden>\n\t\t\t<div className=\"components-font-size-picker__controls\">\n\t\t\t\t{ fontSizes.length > 0 && (\n\t\t\t\t\t<CustomSelectControl\n\t\t\t\t\t\tclassName={ 'components-font-size-picker__select' }\n\t\t\t\t\t\tlabel={ __( 'Preset size' ) }\n\t\t\t\t\t\toptions={ options }\n\t\t\t\t\t\tvalue={ options.find(\n\t\t\t\t\t\t\t( option ) => option.key === selectedFontSizeSlug\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tonChange={ ( { selectedItem } ) => {\n\t\t\t\t\t\t\tconst selectedValue =\n\t\t\t\t\t\t\t\tselectedItem.style &&\n\t\t\t\t\t\t\t\tselectedItem.style.fontSize;\n\t\t\t\t\t\t\tonChange( Number( selectedValue ) );\n\t\t\t\t\t\t} }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t{ ! withSlider && ! disableCustomFontSizes && (\n\t\t\t\t\t<div className=\"components-font-size-picker__number-container\">\n\t\t\t\t\t\t<label htmlFor={ fontSizePickerNumberId }>\n\t\t\t\t\t\t\t{ __( 'Custom' ) }\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tid={ fontSizePickerNumberId }\n\t\t\t\t\t\t\tclassName=\"components-font-size-picker__number\"\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\tmin={ 1 }\n\t\t\t\t\t\t\tonChange={ ( event ) => {\n\t\t\t\t\t\t\t\tonChange( Number( event.target.value ) );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\taria-label={ __( 'Custom' ) }\n\t\t\t\t\t\t\tvalue={ value || '' }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t\t<Button\n\t\t\t\t\tclassName=\"components-color-palette__clear\"\n\t\t\t\t\tdisabled={ value === undefined }\n\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\tonChange( undefined );\n\t\t\t\t\t} }\n\t\t\t\t\tisSmall\n\t\t\t\t\tisSecondary\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Reset' ) }\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t\t{ withSlider && (\n\t\t\t\t<RangeControl\n\t\t\t\t\tclassName=\"components-font-size-picker__custom-input\"\n\t\t\t\t\tlabel={ __( 'Custom Size' ) }\n\t\t\t\t\tvalue={ value || '' }\n\t\t\t\t\tinitialPosition={ fallbackFontSize }\n\t\t\t\t\tonChange={ ( newValue ) => {\n\t\t\t\t\t\tonChange( newValue );\n\t\t\t\t\t} }\n\t\t\t\t\tmin={ 12 }\n\t\t\t\t\tmax={ 100 }\n\t\t\t\t\tbeforeIcon={ textColor }\n\t\t\t\t\tafterIcon={ textColor }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</fieldset>\n\t);\n}\n"]}