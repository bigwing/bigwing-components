{"version":3,"sources":["@wordpress/components/src/button/index.js"],"names":["disabledEventsOnDisabledButton","Button","props","ref","href","target","isPrimary","isSmall","isTertiary","isPressed","isBusy","isDefault","isSecondary","isLink","isDestructive","className","disabled","icon","iconSize","showTooltip","tooltipPosition","shortcut","label","children","isFocusable","__experimentalIsFocusable","additionalProps","alternative","classes","trulyDisabled","Tag","undefined","tagProps","type","disabledEvent","event","stopPropagation","preventDefault","shouldShowTooltip","length","element"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { isArray } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport deprecated from '@wordpress/deprecated';\nimport { forwardRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport Tooltip from '../tooltip';\nimport Icon from '../icon';\n\nconst disabledEventsOnDisabledButton = [ 'onMouseDown', 'onClick' ];\n\nexport function Button( props, ref ) {\n\tconst {\n\t\thref,\n\t\ttarget,\n\t\tisPrimary,\n\t\tisSmall,\n\t\tisTertiary,\n\t\tisPressed,\n\t\tisBusy,\n\t\tisDefault,\n\t\tisSecondary,\n\t\tisLink,\n\t\tisDestructive,\n\t\tclassName,\n\t\tdisabled,\n\t\ticon,\n\t\ticonSize,\n\t\tshowTooltip,\n\t\ttooltipPosition,\n\t\tshortcut,\n\t\tlabel,\n\t\tchildren,\n\t\t__experimentalIsFocusable: isFocusable,\n\t\t...additionalProps\n\t} = props;\n\n\tif ( isDefault ) {\n\t\tdeprecated( 'Button isDefault prop', {\n\t\t\talternative: 'isSecondary',\n\t\t} );\n\t}\n\n\tconst classes = classnames( 'components-button', className, {\n\t\t'is-secondary': isDefault || isSecondary,\n\t\t'is-primary': isPrimary,\n\t\t'is-small': isSmall,\n\t\t'is-tertiary': isTertiary,\n\t\t'is-pressed': isPressed,\n\t\t'is-busy': isBusy,\n\t\t'is-link': isLink,\n\t\t'is-destructive': isDestructive,\n\t\t'has-text': !! icon && !! children,\n\t\t'has-icon': !! icon,\n\t} );\n\n\tconst trulyDisabled = disabled && ! isFocusable;\n\tconst Tag = href !== undefined && ! trulyDisabled ? 'a' : 'button';\n\tconst tagProps =\n\t\tTag === 'a'\n\t\t\t? { href, target }\n\t\t\t: {\n\t\t\t\t\ttype: 'button',\n\t\t\t\t\tdisabled: trulyDisabled,\n\t\t\t\t\t'aria-pressed': isPressed,\n\t\t\t  };\n\n\tif ( disabled && isFocusable ) {\n\t\t// In this case, the button will be disabled, but still focusable and\n\t\t// perceivable by screen reader users.\n\t\ttagProps[ 'aria-disabled' ] = true;\n\n\t\tfor ( const disabledEvent of disabledEventsOnDisabledButton ) {\n\t\t\tadditionalProps[ disabledEvent ] = ( event ) => {\n\t\t\t\tevent.stopPropagation();\n\t\t\t\tevent.preventDefault();\n\t\t\t};\n\t\t}\n\t}\n\n\t// Should show the tooltip if...\n\tconst shouldShowTooltip =\n\t\t! trulyDisabled &&\n\t\t// an explicit tooltip is passed or...\n\t\t( ( showTooltip && label ) ||\n\t\t\t// there's a shortcut or...\n\t\t\tshortcut ||\n\t\t\t// there's a label and...\n\t\t\t( !! label &&\n\t\t\t\t// the children are empty and...\n\t\t\t\t( ! children ||\n\t\t\t\t\t( isArray( children ) && ! children.length ) ) &&\n\t\t\t\t// the tooltip is not explicitly disabled.\n\t\t\t\tfalse !== showTooltip ) );\n\n\tconst element = (\n\t\t<Tag\n\t\t\t{ ...tagProps }\n\t\t\t{ ...additionalProps }\n\t\t\tclassName={ classes }\n\t\t\taria-label={ additionalProps[ 'aria-label' ] || label }\n\t\t\tref={ ref }\n\t\t>\n\t\t\t{ icon && <Icon icon={ icon } size={ iconSize } /> }\n\t\t\t{ children }\n\t\t</Tag>\n\t);\n\n\tif ( ! shouldShowTooltip ) {\n\t\treturn element;\n\t}\n\n\treturn (\n\t\t<Tooltip\n\t\t\ttext={ label }\n\t\t\tshortcut={ shortcut }\n\t\t\tposition={ tooltipPosition }\n\t\t>\n\t\t\t{ element }\n\t\t</Tooltip>\n\t);\n}\n\nexport default forwardRef( Button );\n"]}