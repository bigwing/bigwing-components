{"version":3,"sources":["@wordpress/components/src/tree-grid/roving-tab-index-item.js"],"names":["RovingTabIndexItem","forwardedRef","children","Component","as","props","localRef","ref","lastFocusedElement","setLastFocusedElement","tabIndex","current","onFocus","event","target","allProps"],"mappings":";;;;;;;;;AAGA;;;;;;AAKA;;;;;;eAEe,yBAAY,SAASA,kBAAT,OAE1BC,YAF0B,EAGzB;AAAA,MAFCC,QAED,QAFCA,QAED;AAAA,MAFeC,SAEf,QAFWC,EAEX;AAAA,MAF6BC,KAE7B;AACD,MAAMC,QAAQ,GAAG,sBAAjB;AACA,MAAMC,GAAG,GAAGN,YAAY,IAAIK,QAA5B;;AAFC,8BAMG,sDANH;AAAA,MAIAE,kBAJA,yBAIAA,kBAJA;AAAA,MAKAC,qBALA,yBAKAA,qBALA;;AAOD,MAAIC,QAAJ;;AAEA,MAAKF,kBAAL,EAA0B;AACzBE,IAAAA,QAAQ,GAAGF,kBAAkB,KAAKD,GAAG,CAACI,OAA3B,GAAqC,CAArC,GAAyC,CAAC,CAArD;AACA;;AAED,MAAMC,OAAO,GAAG,SAAVA,OAAU,CAAEC,KAAF;AAAA,WAAaJ,qBAAqB,CAAEI,KAAK,CAACC,MAAR,CAAlC;AAAA,GAAhB;;AACA,MAAMC,QAAQ;AAAKR,IAAAA,GAAG,EAAHA,GAAL;AAAUG,IAAAA,QAAQ,EAARA,QAAV;AAAoBE,IAAAA,OAAO,EAAPA;AAApB,KAAgCP,KAAhC,CAAd;;AAEA,MAAK,OAAOH,QAAP,KAAoB,UAAzB,EAAsC;AACrC,WAAOA,QAAQ,CAAEa,QAAF,CAAf;AACA;;AAED,SAAO,4BAAC,SAAD,EAAgBA,QAAhB,EAA6Bb,QAA7B,CAAP;AACA,CAxBc,C","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useRef, forwardRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { useRovingTabIndexContext } from './roving-tab-index-context';\n\nexport default forwardRef( function RovingTabIndexItem(\n\t{ children, as: Component, ...props },\n\tforwardedRef\n) {\n\tconst localRef = useRef();\n\tconst ref = forwardedRef || localRef;\n\tconst {\n\t\tlastFocusedElement,\n\t\tsetLastFocusedElement,\n\t} = useRovingTabIndexContext();\n\tlet tabIndex;\n\n\tif ( lastFocusedElement ) {\n\t\ttabIndex = lastFocusedElement === ref.current ? 0 : -1;\n\t}\n\n\tconst onFocus = ( event ) => setLastFocusedElement( event.target );\n\tconst allProps = { ref, tabIndex, onFocus, ...props };\n\n\tif ( typeof children === 'function' ) {\n\t\treturn children( allProps );\n\t}\n\n\treturn <Component { ...allProps }>{ children }</Component>;\n} );\n"]}